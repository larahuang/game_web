import{r as c,j as e,a as s,L as o,F as v,O as w}from"./index.05f29c45.js";import{c as B,B as x,a as S,d as k,e as F,f as P,n as m,i as y,j,k as C,m as E}from"./navbar.f2556c7d.js";import{u as N}from"./index.esm.12f282d4.js";/* empty css                      *//* empty css             *//* empty css             */const _=()=>{const{cartTotalItems:t,updateTotalPrice:n}=B(i=>i);return c.exports.useEffect(()=>{n()},[]),e("div",{className:"navbar-container bg-board",children:s("div",{className:"navbar",children:[e("div",{className:"logo",children:e(o,{to:"/",children:"React "})}),e("div",{className:"menu",children:s("ul",{children:[e("li",{children:e(o,{to:"/news",children:"News"})}),e("li",{children:e(o,{to:"/products",children:"Products"})}),e("li",{children:e(o,{to:"/login",children:"Login"})}),e("li",{children:e(o,{to:"/register",children:"Register"})}),s("li",{children:[e(o,{to:"/cart",children:e(x,{})}),e("span",{className:"count",children:t})]})]})}),e("div",{className:"mobile_menu",children:s("ul",{children:[e("li",{children:e(o,{to:"/news",children:e(S,{})})}),e("li",{children:e(o,{to:"/products",children:e(k,{})})}),e("li",{children:e(o,{to:"/login",children:e(F,{})})}),e("li",{children:e(o,{to:"/register",children:e(P,{})})}),s("li",{children:[e(o,{to:"/cart",children:e(x,{})}),e("span",{className:"count",children:t})]})]})})]})})};const D=t=>{var r,h,p;const{register:n,handleSubmit:i,formState:{errors:d}}=N();m(u=>u.new);const{addNewsSubmit:g}=m(u=>u);return c.exports.useState({subject:"",image:"",category:"",content:""}),c.exports.useEffect(()=>{},[]),t.trigger?e("div",{className:"popup",children:s("div",{className:"popup-inner",children:[s("div",{className:"popup-header",children:[e("button",{className:"close-btn",onClick:()=>t.setButtonPop(!1),children:e(y,{})}),e("h3",{children:t.title})]}),e("div",{className:"popup-body",children:s("form",{onSubmit:i(g),children:[e("input",{type:"text",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"subject",...n("subject",{required:{value:!0,message:"\u6B04\u4F4D\u5FC5\u586B"}})}),d.subject&&s("span",{children:[" ",(r=d.subject)==null?void 0:r.message]}),e("input",{type:"text",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"image",...n("image",{required:{value:!0,message:"\u6B04\u4F4D\u5FC5\u586B"}})}),d.image&&s("span",{children:[" ",(h=d.image)==null?void 0:h.message]}),e("input",{type:"text",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"category",...n("category",{required:{value:!0,message:"\u6B04\u4F4D\u5FC5\u586B"}})}),d.image&&s("span",{children:[" ",(p=d.image)==null?void 0:p.message]}),e("textarea",{rows:"3",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",...n("content",{required:{value:!0,message:"\u6B04\u4F4D\u5FC5\u586B"}})}),e("input",{type:"submit",value:"\u767B\u5165",className:"block w-full rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:()=>{notify()}})]})})]})}):""},T=t=>{const{register:n,handleSubmit:i,formState:{errors:d}}=N(),{fetchNewsItem:g}=m(a=>a),r=m(a=>a.new),[h,p]=c.exports.useState({subject:"",image:"",content:""}),u=a=>{const f=a.target.name;p(l=>({...l,[f]:a.target.value}))},b=async()=>{try{let a={subject:r.subject,image:r.image,content:r.content};const f=`https://api-game-project.vercel.app/api/news/${r._id}`;await axios.put(f,a).then(l=>{l.status===200&&(console.log(l.data,"Success"),g())})}catch{}};return c.exports.useEffect(()=>{g()},[]),t.trigger?e("div",{className:"popup",children:s("div",{className:"popup-inner",children:[s("div",{className:"popup-header",children:[e("button",{className:"close-btn",onClick:()=>t.setButtonEditPopup(!1),children:e(y,{})}),e("h3",{children:t.title})]}),e("div",{className:"popup-body",children:s("form",{onSubmit:i(b),children:[e("input",{type:"text",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:h.subject,name:"subject",onChange:u}),e("input",{type:"text",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",value:r.image,name:"image",onChange:u}),e("textarea",{rows:"3",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",name:"content",value:r.content,onChange:u}),e("input",{type:"submit",value:"\u767B\u5165",className:"block w-full rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"})]})})]})}):""},q=({item:t})=>{const[n,i]=c.exports.useState(!1),[d,g]=c.exports.useState(!1),[r,h]=c.exports.useState("\u65B0\u589ENews"),[p,u]=c.exports.useState("\u7DE8\u8F2FNews"),b=m(l=>l.news),{deleteNewsSubmit:a}=m(l=>l),f=(l,L)=>{g(!0),sessionStorage.setItem("newDate",JSON.stringify(l))};return s(v,{children:[s("div",{className:"admin_news",children:[s("div",{className:"item img",children:[" ",e("img",{src:t.image})]}),e("div",{className:"item subject",children:t.subject}),e("div",{className:"item add",onClick:()=>i(!0),children:e(j,{})}),e("div",{className:"item delete",onClick:()=>a(b,t._id),children:e(C,{})}),e("div",{className:"item edit",onClick:()=>f(t,t._id),children:e(E,{})})]}),e(D,{trigger:n,setButtonPop:i,title:r}),e(T,{trigger:d,setButtonEditPopup:g,title:p})]})},I=()=>{const t=m(i=>i.news),{fetchNews:n}=m(i=>i);return c.exports.useEffect(()=>{n()},[]),e("div",{className:"full",children:s("div",{className:"admin_news_area",children:[e("div",{className:"title",children:e("b",{children:"\u6D88\u606F\u5217\u8868"})}),t==null?void 0:t.map(i=>e(q,{item:i},i._id))]})})},W=()=>s("div",{className:"full",children:[e(_,{}),e(w,{}),e(I,{})]});export{W as default};
